<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Empire – User</title>
  <link rel="stylesheet" href="styles.css" />
</head>
<body class="bg-gray-900 text-white">
  <div class="container mx-auto p-6">
    <header class="mb-8">
      <h1 class="text-3xl font-bold">Empire – User Dashboard</h1>
    </header>

    <main>
      <section class="mb-6">
        <h2 class="text-xl font-semibold mb-2">Welcome</h2>
        <p>Manage your account and access resources here.</p>
      </section>

      <section class="mb-6">
        <h2 class="text-xl font-semibold mb-2">Links</h2>
        <ul class="list-disc list-inside space-y-2">
          <li>
            <!-- Telegram link will be dynamically set -->
            <a id="tgLink" href="#" target="_blank" rel="noopener" class="text-blue-400 hover:underline">
              Telegram Channel
            </a>
          </li>
          <li>
            <a href="/docs/help.html" class="text-blue-400 hover:underline">Help Docs</a>
          </li>
          <li>
            <a href="/dashboard.html" class="text-blue-400 hover:underline">Back to Dashboard</a>
          </li>
        </ul>
      </section>
    </main>

    <footer class="mt-8 text-sm text-gray-500">
      &copy; Empire Affiliate Marketing Hub
    </footer>
  </div>

  <script>
    // Dynamically fetch Telegram channel info from serverless function
    (async () => {
      try {
        const r = await fetch("/.netlify/functions/public-config");
        const c = await r.json();
        const a = document.getElementById("tgLink");
        if (c?.telegramChannelUrl) a.href = c.telegramChannelUrl;
        if (c?.telegramHandle) a.textContent = "Telegram: " + c.telegramHandle;
      } catch (err) {
        console.error("Failed to load Telegram config", err);
      }
    })();
  </script>
</body>
</html>