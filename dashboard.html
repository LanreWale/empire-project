<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <title>Empire Admin</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />

  <!-- Auth guard (redirects to /login.html if no token) -->
  <script src="/js/empire-auth.js"></script>
  <script>
    if (!window.EmpireAuth?.has()) {
      window.location.replace("/login.html");
    }
  </script>

  <!-- Chart.js (for the two charts we render) -->
  <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.1/dist/chart.umd.min.js" defer></script>

  <style>
    :root{
      --bg:#0b0f14; --panel:#121822; --muted:#93a0b4; --text:#e8eef7; --accent:#2dd4bf; --accent-2:#60a5fa;
      --ok:#16a34a; --warn:#f59e0b; --down:#ef4444; --card:#0f1520; --border:#1f2937;
    }
    html,body{margin:0;padding:0;background:var(--bg);color:var(--text);font:14px/1.5 system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial;}
    .wrap{max-width:1200px;margin:0 auto;padding:18px;}
    .topbar{display:flex;align-items:center;gap:12px;margin-bottom:16px}
    .title{font-weight:700;font-size:18px;margin-right:auto}
    .nav{display:flex;flex-wrap:wrap;gap:8px}
    .nav button{background:#152033;border:1px solid var(--border);color:var(--text);padding:8px 10px;border-radius:8px;cursor:pointer}
    .nav button.active{border-color:var(--accent);color:var(--accent)}
    .grid{display:grid;grid-template-columns:repeat(12,1fr);gap:12px}
    .col-3{grid-column:span 3}.col-4{grid-column:span 4}.col-6{grid-column:span 6}.col-8{grid-column:span 8}.col-12{grid-column:span 12}
    .card{background:var(--panel);border:1px solid var(--border);border-radius:12px;padding:14px}
    .kpi{font-size:26px;font-weight:800}
    .muted{color:var(--muted)}
    .hidden{display:none !important}
    .badge{display:inline-block;padding:3px 8px;border-radius:999px;font-weight:700;font-size:12px}
    .badge.ok{background:#032e1b;color:#9affc8;border:1px solid #064e3b}
    .badge.warn{background:#3a2a02;color:#ffe3a3;border:1px solid #b45309}
    .badge.down{background:#3b0a0a;color:#ffb3b3;border:1px solid #b91c1c}
    table{width:100%;border-collapse:collapse}
    th,td{padding:8px;border-bottom:1px solid var(--border);text-align:left}
    .status{padding:2px 8px;border-radius:999px;background:#13253c;border:1px solid #1f3350}
    .btn{background:var(--accent-2);color:#06111d;border:0;padding:8px 10px;border-radius:8px;cursor:pointer;font-weight:700}
    .btn.alt{background:#1f2a44;color:#cbd5e1}
    .note{padding:10px;border-radius:8px}
    .note.err{background:#3b0a0a;border:1px solid #7f1d1d}
    .note.ok{background:#052e1b;border:1px solid #065f46}
    .section-title{font-weight:800;margin:0 0 10px}
    .pill{display:inline-block;padding:2px 8px;border:1px solid var(--border);border-radius:999px;color:var(--muted)}
    input,select,textarea{background:#0f1624;border:1px solid var(--border);color:var(--text);border-radius:8px;padding:8px;width:100%}
    .actions{display:flex;gap:8px;flex-wrap:wrap}
    .mono{font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", monospace;}
  </style>
</head>

<body>
  <div class="wrap">
    <div class="topbar">
      <div class="title">Empire Control</div>
      <div class="pill mono" id="rolePill">role: â€”</div>
      <a id="logout" class="btn alt" href="#" style="margin-left:12px">Logout</a>
    </div